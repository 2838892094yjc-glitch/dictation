# 功能使用指南

## 目录
1. [词库管理](#词库管理)
2. [三种听写模式](#三种听写模式)
3. [听写播放](#听写播放)
4. [答案批改](#答案批改)
5. [常见问题](#常见问题)

---

## 词库管理

### 创建词库
1. 点击页面顶部的"➕ 新建词库"
2. 系统自动创建新词库（如"词库_2"）
3. 可以随时切换当前词库

### 导入单词

#### 方式1：拍照上传
1. 准备单词表照片（支持 JPG、PNG、JPEG）
2. 在词库页面点击"上传单词表照片"
3. 勾选"🤖 AI智能纠正拼写"（推荐）
4. 系统自动识别并添加到词库
5. 如有拼写错误，AI会自动纠正并提示

**支持的格��**：
```
apple 苹果
banana 香蕉
computer 电脑
1. hello 你好
2. world 世界
```

#### 方式2：手动输入
1. 在"手动输入"文本框中输入单词
2. 格式：每行一个，英文和中文用空格分隔
3. 点击"➕ 添加到词库"

### 管理词库
- **保存词库**: 点击"💾 保存词库"
- **切换词库**: 使用下拉框选择其他词库
- **删除词库**: 点击"🗑️ 删除词库"（默认词库不可删除）
- **清空词库**: 点击"🗑️ 清空词库"删除所有单词
- **删除单词**: 点击单词行末的"🗑️"按钮

---

## 三种听写模式

### 模式1：英译中 (en_to_cn)
**适用场景**: 测试中文释义记忆

**流程**:
1. 系统播报：英文单词（如 "apple"）
2. 用户填写：中文释义（如 "苹果"）
3. 系统批改：比对中文答案

**示例**:
```
播报: "apple"
用户写: "苹果"  ✅ 正确
```

### 模式2：中译英 (cn_to_en)
**适用场景**: 测试英文单词拼写

**流程**:
1. 系统播报：中文释义（如 "苹果"）
2. 用户填写：英文单词（如 "apple"）
3. 系统批改：比对英文答案（容错拼写错误）

**示例**:
```
播报: "苹果"
用户写: "apple"  ✅ 正确
用户写: "aple"   ✅ 正确（编辑距离<=1，容错）
```

### 模式3：拼写 (spell)
**适用场景**: 拼写练习

**流程**:
1. 系统播报：英文单词 + 中文释义（如 "apple, 苹果"）
2. 用户填写：英文拼写（如 "apple"）
3. 系统批改：比对英文答案（容错拼写错误）

**示例**:
```
播报: "apple" (停顿1.5秒) "苹果"
用户写: "apple"  ✅ 正确
```

---

## 听写播放

### 基本操作
1. **单词播放**
   - 点击"🔊 播放"按钮
   - 系统根据模式播报相应内容

2. **答案输入**
   - 在输入框填写答案
   - 点击"✅ 确认答案"保存
   - 自动跳转到下一个单词

3. **导航控制**
   - "⏮�� 上一个"：返回上一个单词
   - "下一个 ⏭️"：跳到下一个单词

4. **自动播放**
   - 点击"▶️ 自动连续播放"
   - 系统按间隔自动播放所有单词
   - 适合集中听写

### 播放设置

#### 音色选择
- **英文音色**: 5种可选
  - male_qn_qingse（男声-轻熟）
  - female_shaonv（女声-少女）
  - male_qn_jingying（男声-精英）
  - female_yujie（女声-御姐）
  - male_qn_badao（男声-霸道）

- **中文音色**: 5种可选（同上）

#### 播放间隔
- 使用滑块调整播放间隔（1-10秒）
- 默认3秒

#### 打乱顺序
- 勾选"🔀 打乱顺序播放"
- 系统随机排列听写顺序
- 避免记忆顺序影响

### 快捷选择单词
- **全选**: 选择所有单词
- **全不选**: 取消所有选择
- **前n个**: 选择前N个单词
- **字母A-Z**: 选择字母A到指定字母的单词
- **字母Z-A**: 选择指定字母到Z的单词

---

## 答案批改

### 方式1：手动输入批改
1. 在听写页面直接输入答案
2. 系统自动记录每个单词的答案
3. 进入"答案批改"页面查看结果
4. 显示：
   - 题目内容（根据模式不同）
   - 用户答案
   - 正确/错误标识
   - 正确答案提示

### 方式2：拍照批改

#### 准备答案
1. 在纸上按听写顺序书写答案
2. 每行一个答案
3. 书写清晰，避免连笔
4. 根据模式书写：
   - 英译中：写中文
   - 中译英：写英文
   - 拼写：写英文

#### 上传批改
1. 进入"答案批改"页面
2. 点击"上传手写答案照片"
3. 选择照片（JPG/PNG/JPEG）
4. 点击"🔍 开始识别并批改"
5. 系统自动：
   - OCR识别手写文字
   - 根据模式比对答案
   - 显示详细批改结果

#### 批改结果
- **成绩统计**
  - 正确数/总数
  - ���确率百分比
  - 评级（优秀/良好/及格/不及格）

- **详细结果**
  - 逐题对照
  - 标准答案 vs 识别结果
  - 正确/错误标识
  - 中文释义提示

---

## 常见问题

### Q1: 拍照识别不准确怎么办？
**A**:
- 确保光线充足
- 避免阴影和反光
- 单词表格式规范
- 英文和中文之间有明显分隔
- 如有错误，可启用"AI智能纠正拼写"

### Q2: 手写答案识别失败？
**A**:
- 书写尽量清晰、工整
- 避免连笔和涂改
- 每行一个答案
- 保持纸张平整
- 拍照时对焦清晰

### Q3: 语音播放没有声音？
**A**:
- 检查系统音量
- 检查浏览器音频权限
- 确保网络连接正常（TTS需要联网）
- 刷新页面重试

### Q4: 如何切换词库？
**A**:
- 在词库页面顶部使用下拉框
- 选择要使用的词库
- 系统自动加载该词库的单词

### Q5: 词库会自动保存吗？
**A**:
- 是的，以下操作会自动保存：
  - 添加单词（拍照或手动输入）
  - 删除单词
  - 清空词库
- 也可以手动点击"💾 保存词库"

### Q6: 英文答案拼写错误会怎样？
**A**:
- 系统使用编辑距离算法
- 单词长度>5时，容忍1个字符差异
- 单词长度<=5时，必须完全正确
- 示例：
  - "apple" ✅ "aple" (长度>5，1个差异)
  - "cat" ❌ "cta" (长度<=5，必须完全正确)

### Q7: 可以同时使用多个词库吗？
**A**:
- 每次只能使用一个词库
- 但可以创建多个词库并随时切换
- 建议按主题或难度分类管理词库

### Q8: MiniMax API 余额不足怎么办？
**A**:
- 当前余额：¥14.73
- 每个字约 ¥0.0002
- 可以使用数千个单词
- 如需充值，请联系管理员

### Q9: 如何提高听写效率？
**A**:
- 使用"前n个"快速选择要听写的单词
- 使用"打乱顺序"避免记忆顺序
- 调整播放间隔适应自己的速度
- 使用自动连续播放提高效率
- 先手动输入答案，最后拍照批改

### Q10: 数据会丢失吗？
**A**:
- 词库数据自动保存在本地
- 存储路径：`data/vocabularies/`
- 建议定期备份该目录
- 答案数据仅存在于当前会话

---

## 技术支持

如有其他问题，请查看：
- [README.md](../README.md) - 项目说明
- [任务2完成报告](./TASK2_COMPLETION_REPORT.md) - 功能实现详情
- [任务2文档](./TASK2_DICTATION_MODE.md) - 听写模式说明

或通过以下方式联系：
- 提交 Issue
- 发送邮件
- 技术论坛

---

**最后更新**: 2026-02-16
**版本**: v3.0
