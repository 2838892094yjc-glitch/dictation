# 任务5: 学习历史记录

## 任务目标
记录每次听写成绩，展示历史趋势

## 文件变更

### 新增文件
```
data/history.json           # 历史记录
```

### 修改文件
```
app.py                      # 添加历史页面
```

## 功能清单
- [ ] 记录每次听写结果
- [ ] 历史列表展示
- [ ] 成绩趋势图
- [ ] 删除历史记录
- [ ] 统计概览

## 数据结构

### 历史记录
```json
{
    "records": [
        {
            "id": "20260216200000",
            "date": "2026-02-16T20:00:00",
            "mode": "en_to_cn",
            "total_words": 10,
            "correct_count": 8,
            "score": 80,
            "duration_seconds": 300,
            "wrong_words": ["banana", "orange"]
        }
    ]
}
```

## 实现步骤

### 步骤1: 创建历史管理模块
- add_history_record() 添加记录
- load_history() 加载历史
- delete_history() 删除记录
- get_statistics() 统计信息

### 步骤2: 集成到听写流程
- 听写完成后自动保存记录

### 步骤3: 添加历史页面
- 历史记录列表
- 成绩详情
- 趋势图表

### 步骤4: 展示统计
- 总听写次数
- 平均正确率
- 练习时长

## 测试要点
1. 听写完成后自动保存
2. 历史页面正常显示
3. 统计数据正确

## 预计改动量
- 新增代码: ~100 行
- 修改代码: ~20 行

---

## 上一任务
[任务4: 错题本功能](./TASK4_WRONG_ANSWERS.md)

## 下一任务
[任务6: 词库导入导出](./TASK6_IMPORT_EXPORT.md)
