# 学习历史记录功能 - 界面预览

## 页面布局

### 1. 顶部导航栏
```
[📚 词库管理] [🎧 听写播放] [✅ 答案批改] [📊 学习历史]
                                              ^^^^^^^^^^^^
                                              新增的历史页面
```

### 2. 学习统计区域
```
┌─────────────────────────────────────────────────────────┐
│  📈 学习统计                                              │
├─────────────┬─────────────┬─────────────┬───────────────┤
│ 总听写次数   │  总单词数    │  平均正确率  │  总学习时长    │
│    10       │    100      │   85.5%     │   2h 30m      │
└─────────────┴─────────────┴─────────────┴───────────────┘
```

### 3. 模式分布图
```
┌─────────────────────────────────────────────────────────┐
│  📊 模式分布                                              │
├─────────────────────────────────────────────────────────┤
│  柱状图：                        详细数据：               │
│  ┌───┐                          - 英译中: 5次           │
│  │   │                          - 中译英: 3次           │
│  │ █ │  ┌───┐                   - 拼写: 2次             │
│  │ █ │  │ █ │  ┌───┐                                   │
│  │ █ │  │ █ │  │ █ │                                   │
│  └───┘  └───┘  └───┘                                   │
│  英译中  中译英   拼写                                    │
└─────────────────────────────────────────────────────────┘
```

### 4. 成绩趋势图
```
┌─────────────────────────────────────────────────────────┐
│  📈 最近成绩趋势                                          │
├─────────────────────────────────────────────────────────┤
│  100% ┤                                    ●             │
│   90% ┤                          ●    ●                  │
│   80% ┤                ●    ●                            │
│   70% ┤          ●                                       │
│   60% ┤    ●                                             │
│       └────┴────┴────┴────┴────┴────┴────┴────┴────     │
│         1    2    3    4    5    6    7    8    9    10  │
└─────────────────────────────────────────────────────────┘
```

### 5. 操作按钮区
```
┌─────────────────────────────────────────────────────────┐
│  📋 历史记录                                              │
├─────────────────────────────────────────────────────────┤
│  [🗑️ 清空所有记录]  [📥 导出CSV]                         │
└─────────────────────────────────────────────────────────┘
```

### 6. 历史记录列表
```
┌─────────────────────────────────────────────────────────┐
│  ▼ 📝 2026-02-17 - 英译中 - 分数: 80% (8/10)             │
│  ├─ 记录ID: 20260217010000                               │
│  ├─ 日期时间: 2026-02-17T01:00:00                        │
│  ├─ 听写模式: 英译中                                      │
│  ├─ 词库名称: 小学英语                                    │
│  ├─ 总单词数: 10                                         │
│  ├─ 正确数量: 8                                          │
│  ├─ 分数: 80%                                            │
│  ├─ 用时: 5分0秒                                         │
│  ├─ 评级: 👍 良好                                        │
│  ├─ 错题列表:                                            │
│  │   - apple (苹果) → 你的答案: aple                     │
│  │   - computer (电脑) → 你的答案: compter              │
│  └─ [🗑️ 删除]                                           │
├─────────────────────────────────────────────────────────┤
│  ▼ 📝 2026-02-16 - 中译英 - 分数: 90% (9/10)             │
│  ...                                                     │
└─────────────────────────────────────────────────────────┘
```

### 7. 高频错词区
```
┌─────────────────────────────────────────────────────────┐
│  🔥 高频错词                                              │
├─────────────────────────────────────────────────────────┤
│  1. apple        苹果                    错误 5 次        │
│  2. beautiful    美丽的                  错误 4 次        │
│  3. computer     电脑                    错误 3 次        │
│  4. necessary    必要的                  错误 3 次        │
│  5. banana       香蕉                    错误 2 次        │
│  ...                                                     │
└─────────────────────────────────────────────────────────┘
```

## 交互流程

### 自动保存流程
```
1. 用户完成听写
   ↓
2. 上传手写答案照片
   ↓
3. 系统识别并批改
   ↓
4. 自动保存历史记录 ✓
   ↓
5. 显示批改结果
   ↓
6. 可点击"查看历史记录"按钮
```

### 查看历史流程
```
1. 点击"📊 学习历史"
   ↓
2. 查看统计概览
   ↓
3. 查看趋势图表
   ↓
4. 展开查看详细记录
   ↓
5. 查看高频错词
   ↓
6. 可导出CSV或删除记录
```

## 颜色方案

### 评级颜色
- 🏆 优秀（90+）：绿色
- 👍 良好（80-89）：蓝色
- ✓ 及格（60-79）：黄色
- ✗ 不及格（<60）：红色

### 图表颜色
- 英译中：蓝色
- 中译英：绿色
- 拼写：橙色

## 响应式设计

### 桌面端
- 4列统计卡片
- 并排显示图表和数据
- 完整的记录详情

### 移动端
- 单列统计卡片
- 垂直堆叠图表
- 简化的记录显示

## 数据刷新

- 添加记录后自动刷新
- 删除记录后自动刷新
- 清空记录后自动刷新
- 导出CSV不刷新页面

## 用户体验

### 加载状态
- 批改时显示"正在批改..."
- 导出时显示"正在导出..."

### 确认操作
- 清空所有记录需要二次确认
- 删除单条记录直接删除

### 错误处理
- 文件不存在时显示提示
- 导出失败时显示错误信息

### 空状态
- 无记录时显示"暂无历史记录"
- 无错词时显示"暂无错词记录"

## 性能优化

- 记录列表默认显示全部
- 图表只显示最近10次
- 高频错词只显示前20个
- CSV导出异步处理

## 可访问性

- 清晰的标签和说明
- 合理的颜色对比度
- 键盘导航支持
- 屏幕阅读器友好

---

以上是学习历史记录功能的界面预览和交互说明。
实际界面由 Streamlit 自动生成，具有良好的响应式设计和用户体验。
